model Appointment {
    id               String            @id @default(uuid(7))
    patientId        String
    doctorScheduleId String
    doctorId         String
    videoCallingId   String            @unique
    status           AppointmentStatus @default(SCHEDULED)
    paymentStatus    PaymentStatus     @default(UNPAID)
    createdAt        DateTime          @default(now())
    updatedAt        DateTime          @updatedAt

    patient        Patient         @relation(fields: [patientId], references: [id], onDelete: Cascade)
    doctor         Doctor          @relation(fields: [doctorId], references: [id], onDelete: Cascade)
    scheduleId     String
    schedule       Schedule        @relation(fields: [scheduleId], references: [id], onDelete: Cascade)
    doctorSchedule DoctorSchedules @relation(fields: [doctorId, doctorScheduleId], references: [doctorId, scheduleId], onDelete: Cascade)
    review         Review?
    prescription   Prescription?
    payment        Payment?

    @@unique([doctorId, doctorScheduleId])
    @@index([patientId])
    @@index([doctorId])
    @@index([doctorScheduleId])
    @@index([status])
    @@map("appointments")
}
